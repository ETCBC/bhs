
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Biblia Hebraica Stuttgartensia Amstelodamensis core data">
      
      
        <meta name="author" content="Dirk Roorda">
      
      
        <link rel="canonical" href="https://etcbc.github.io/bhsa/mql/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>Text-Fabric versus SHEBANQ - BHSA</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#text-fabric-versus-shebanq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="BHSA" class="md-header__button md-logo" aria-label="BHSA" data-md-component="logo">
      
  <img src="../images/etcbc-round-small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BHSA
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Text-Fabric versus SHEBANQ
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/etcbc/bhsa" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BHSA" class="md-nav__button md-logo" aria-label="BHSA" data-md-component="logo">
      
  <img src="../images/etcbc-round-small.png" alt="logo">

    </a>
    BHSA
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/etcbc/bhsa" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cantillation/" class="md-nav__link">
        Cantillation and accents
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../colofon/" class="md-nav__link">
        Colofon
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Text-Fabric versus SHEBANQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Text-Fabric versus SHEBANQ
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    Tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-fabric-versus-mql" class="md-nav__link">
    Text-Fabric versus MQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#differences-between-tf-search-and-mql-queries" class="md-nav__link">
    Differences between TF-search and MQL-queries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pitfalls-of-mql" class="md-nav__link">
    Pitfalls of MQL
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../news/" class="md-nav__link">
        Updates
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../references/" class="md-nav__link">
        References
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../wordgrammar/" class="md-nav__link">
        Words and morphemes
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Features" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/0_home/" class="md-nav__link">
        0 home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/book/" class="md-nav__link">
        book
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/book%40ll/" class="md-nav__link">
        book@ll
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/chapter/" class="md-nav__link">
        chapter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/code/" class="md-nav__link">
        code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/det/" class="md-nav__link">
        det
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/dist/" class="md-nav__link">
        dist
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/dist_unit/" class="md-nav__link">
        dist_unit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/distributional_parent/" class="md-nav__link">
        distributional_parent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/domain/" class="md-nav__link">
        domain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/freq_lex/" class="md-nav__link">
        freq_lex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/freq_occ/" class="md-nav__link">
        freq_occ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/function/" class="md-nav__link">
        function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/functional_parent/" class="md-nav__link">
        functional_parent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_cons/" class="md-nav__link">
        g_cons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_cons_utf8/" class="md-nav__link">
        g_cons_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_lex/" class="md-nav__link">
        g_lex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_lex_utf8/" class="md-nav__link">
        g_lex_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_nme/" class="md-nav__link">
        g_nme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_nme_utf8/" class="md-nav__link">
        g_nme_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_pfm/" class="md-nav__link">
        g_pfm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_pfm_utf8/" class="md-nav__link">
        g_pfm_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_prs/" class="md-nav__link">
        g_prs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_prs_utf8/" class="md-nav__link">
        g_prs_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_uvf/" class="md-nav__link">
        g_uvf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_uvf_utf8/" class="md-nav__link">
        g_uvf_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_vbe/" class="md-nav__link">
        g_vbe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_vbe_utf8/" class="md-nav__link">
        g_vbe_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_vbs/" class="md-nav__link">
        g_vbs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_vbs_utf8/" class="md-nav__link">
        g_vbs_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_word/" class="md-nav__link">
        g_word
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/g_word_utf8/" class="md-nav__link">
        g_word_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/gloss/" class="md-nav__link">
        gloss
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/gn/" class="md-nav__link">
        gn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/instruction/" class="md-nav__link">
        instruction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/is_root/" class="md-nav__link">
        is_root
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/kind/" class="md-nav__link">
        kind
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/label/" class="md-nav__link">
        label
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/language/" class="md-nav__link">
        language
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/languageISO/" class="md-nav__link">
        languageISO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/lex/" class="md-nav__link">
        lex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/lex0/" class="md-nav__link">
        lex0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/lex_utf8/" class="md-nav__link">
        lex_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/ls/" class="md-nav__link">
        ls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/mother/" class="md-nav__link">
        mother
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/mother_object_type/" class="md-nav__link">
        mother_object_type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/nametype/" class="md-nav__link">
        nametype
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/nme/" class="md-nav__link">
        nme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/nu/" class="md-nav__link">
        nu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/number/" class="md-nav__link">
        number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/omap%40ll/" class="md-nav__link">
        omap@ll
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/oslots/" class="md-nav__link">
        oslots
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/otext/" class="md-nav__link">
        otext
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/otype/" class="md-nav__link">
        otype
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/pargr/" class="md-nav__link">
        pargr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/pdp/" class="md-nav__link">
        pdp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/pfm/" class="md-nav__link">
        pfm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/prs/" class="md-nav__link">
        prs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/prs_gn/" class="md-nav__link">
        prs_gn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/prs_nu/" class="md-nav__link">
        prs_nu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/prs_ps/" class="md-nav__link">
        prs_ps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/ps/" class="md-nav__link">
        ps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/qere/" class="md-nav__link">
        qere
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/qere_trailer/" class="md-nav__link">
        qere_trailer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/qere_trailer_utf8/" class="md-nav__link">
        qere_trailer_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/qere_utf8/" class="md-nav__link">
        qere_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/rank_lex/" class="md-nav__link">
        rank_lex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/rank_occ/" class="md-nav__link">
        rank_occ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/rela/" class="md-nav__link">
        rela
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/root/" class="md-nav__link">
        root
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/sp/" class="md-nav__link">
        sp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/st/" class="md-nav__link">
        st
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/tab/" class="md-nav__link">
        tab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/trailer/" class="md-nav__link">
        Trailer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/trailer_utf8/" class="md-nav__link">
        trailer_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/txt/" class="md-nav__link">
        txt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/typ/" class="md-nav__link">
        typ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/uvf/" class="md-nav__link">
        uvf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/vbe/" class="md-nav__link">
        vbe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/vbs/" class="md-nav__link">
        vbs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/verse/" class="md-nav__link">
        verse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/voc_lex/" class="md-nav__link">
        voc_lex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/voc_lex_utf8/" class="md-nav__link">
        voc_lex_utf8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/vs/" class="md-nav__link">
        vs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/vt/" class="md-nav__link">
        vt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    Tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text-fabric-versus-mql" class="md-nav__link">
    Text-Fabric versus MQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#differences-between-tf-search-and-mql-queries" class="md-nav__link">
    Differences between TF-search and MQL-queries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pitfalls-of-mql" class="md-nav__link">
    Pitfalls of MQL
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/etcbc/bhsa/edit/master/docs/mql.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="text-fabric-versus-shebanq">Text-Fabric versus SHEBANQ<a class="headerlink" href="#text-fabric-versus-shebanq" title="Permanent link">&para;</a></h1>
<p>The <a href="http://www.etcbc.nl">ETCBC</a> provides two tools to work with its dataset of linguistic annotations
to the Hebrew Bible.</p>
<p>One is <a href="https://shebanq.ancient-data.org">SHEBANQ</a> which provides a human readable view on the data on the basis of which researchers
can write queries. SHEBANQ is an <strong>online</strong> tool that offers to save such queries and show them next to the relevant chapters of the Bible.</p>
<p>SHEBANQ is best used for drawing attention of fellow researchers to interesting patterns in the Hebrew Bible.
It even provides visualizations of result sets, which can also be downloaded as <code>.csv</code> files.</p>
<p>Nevertheless, SHEBANQ falls short for those researchers that want to perform statistical analysis on the data.
These researchers need to preprocess the data in ways that an application author cannot anticipate.</p>
<p>The good news is the existence of the other tool,
<a href="https://annotation.github.io/text-fabric/tf">Text-Fabric</a>.
This is an <strong>offline</strong> tool based on exactly the same data that powers SHEBANQ.
The programming researcher can use Text-Fabric as a preprocessing tool for transforming the complex BHSA data into the formats that are suitable to
R, spreadsheets, or any format of choice.
Text-Fabric is open source, can be installed by <code>pip install text-fabric</code>
and the data is downloadable from <a href="https://github.com/ETCBC/bhsa">bhsa</a>.</p>
<p>It can be installed on MacOS, Windows and Linux.
The recommended mode of working with the data is: programming in Python within a Jupyter Notebook.</p>
<h2 id="tutorial">Tutorial<a class="headerlink" href="#tutorial" title="Permanent link">&para;</a></h2>
<p>Text-Fabric is ideal if you interested in a certain phenomenon and you want to gather data about that phenomenon.
Take for example the following notebook:</p>
<ul>
<li><a href="https://nbviewer.jupyter.org/github/annotation/tutorials/blob/master/bhsa/start.ipynb">start</a></li>
<li><a href="https://nbviewer.jupyter.org/github/annotation/tutorials/blob/master/bhsa/search.ipynb">search</a></li>
</ul>
<p>This points to an explorative way of researching syntactical patterns, without knowing in advance how exactly
the data is organized.</p>
<h2 id="text-fabric-versus-mql">Text-Fabric versus MQL<a class="headerlink" href="#text-fabric-versus-mql" title="Permanent link">&para;</a></h2>
<p>The queries in SHEBANQ are based on MQL, the query language of
<a href="https://emdros.org">Emdros</a>.</p>
<p>In Text-Fabric we have <em>search templates</em>, that can do similar things as MQL queries, but not exactly the same.
TF-search and MQL-queries have different strengths and weaknesses.
See the examples in </p>
<ul>
<li><a href="https://nbviewer.jupyter.org/github/annotation/tutorials/blob/master/bhsa/searchFromMQL.ipynb">search vs MQL</a></li>
</ul>
<p>where we translate a number of MQL queries that are shared by SHEBANQ into Text-Fabric search templates.</p>
<h2 id="differences-between-tf-search-and-mql-queries">Differences between TF-search and MQL-queries<a class="headerlink" href="#differences-between-tf-search-and-mql-queries" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>MQL-queries</strong> is richer than TF-search query in some respects, while in order areas TF-search is more refined.</li>
<li>both can specify refined feature conditions on objects (feature <code>NOT IN</code> values; feature <code>~</code> regular expression);</li>
<li>MQL can specify <code>NOT EXIST</code> blocks, which has no parallel in TF-search;</li>
<li>TF-search has quantifiers /with/, /without/, /where/ which do not have direct counterparts in MQL;</li>
<li><strong>TF-search</strong> is more flexible in dealing with spatial relationships between objects</li>
<li>you can leave the order between objects free, or constrain it as you wish</li>
<li>you can use a variety of relations like <em>adjacent before</em>, <em>same slots</em>, <em>overlapping</em>, <em>embedded</em> and more to express
    spatial relationships;</li>
<li><strong>MQL-queries</strong> requires separate software, Emdros, plus a database (MYSQL or SQLite), plus a dataset converted to MQL, in
  order to work with it. There is some friction if you want to issue an Emdros query from a Python3 program
  and process its results by the same program;</li>
<li><strong>TF-search</strong> works wherever Text-Fabric works, is totally integrated with it, and results are being delivered
  as Python tuples that are extremely easy to process further;</li>
<li><strong>MQL-queries</strong> is implemented in C + backend database, and has a really good performance;</li>
<li><strong>TF-search</strong> is implemented in pure Python, and requires more memory and more CPU time, although performance is quite acceptable.</li>
<li><strong>MQL-queries</strong> let you define your search criteria very well, but it is poor in letting you specify the context information
  of results that you want to fetch as well;</li>
<li><strong>TF-search</strong> lets you focus on search criteria; because you can process the results after the search, it is very easy to
  draw in context information at will.</li>
</ul>
<h2 id="pitfalls-of-mql">Pitfalls of MQL<a class="headerlink" href="#pitfalls-of-mql" title="Permanent link">&para;</a></h2>
<p>You can also use MQL to get a limited amount of context information.
If you have a query that pinpoints the textual phenomenon that you are after,
you can wrap context objects around it.
But this turns out to be risky, because
there might be unexpected misses.
For example, if you look for: </p>
<div class="highlight"><pre><span></span><code>[phrase function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
</code></pre></div>
<p>and you want to collect the passage information as well, you want to say this:</p>
<div class="highlight"><pre><span></span><code>[book [chapter [verse [sentence
  [phrase function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
]]]]
</code></pre></div>
<p>then you miss the cases where a sentence spans more than one verse!</p>
<p>And if you want the other words or phrases in the same clause as the target phrase, you want something like:</p>
<div class="highlight"><pre><span></span><code>[book [chapter [verse [sentence
  [clause
    [phrase first]
    [phrase function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    [phrase]*
    [phrase last]
   ]
]]]]
</code></pre></div>
<p>But what if the target phrase is itself the first one, or the last one, or both?
We need to distinguish cases:</p>
<div class="highlight"><pre><span></span><code>[book [chapter [verse [sentence
  [clause
    [phrase first and last function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    OR
    [phrase first function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    [phrase]*
    [phrase last]
    OR
    [phrase first]
    [phrase]*
    [phrase last function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    OR
    [phrase first]
    [phrase]*
    [phrase function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    [phrase]*
    [phrase last]
   ]
]]]]
</code></pre></div>
<p>This is not pleasant and it is still wrong, because if the clause has gaps, and those gaps occur between phrases,
then any such clause will not be found by this query.
We have to say this instead:</p>
<div class="highlight"><pre><span></span><code>[book [chapter [verse [sentence
  [clause
    [phrase first and last function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    OR
    [phrase first function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    [[phrase][gap?]]*
    [phrase last]
    OR
    [phrase first]
    [[phrase][gap?]]*
    [phrase last function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    OR
    [phrase first]
    [[phrase][gap?]]*
    [phrase function = &#39;Pred&#39; [word first lex = &#39;NTN[&#39;]]
    [[phrase][gap?]]*
    [phrase last]
   ]
]]]]
</code></pre></div>
<p>And still we will miss results, because the target phrase may occur in a phrase that itself fills the gap inside another phrase.
These thing are not academic, they occur in the BHSA data! In order to get them the size of this query will explode,
completely obscuring the intention of it.</p>
<p>Using TF-search, you can avoid all this trouble by just issuing the search template</p>
<div class="highlight"><pre><span></span><code><span class="n">S</span><span class="o">.</span><span class="n">study</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">phrase function= Pred</span>
<span class="s1">  word lex=NTN[</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</code></pre></div>
<p>and then processing the results, with complete access to any part of the context:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="p">(</span><span class="n">phrase</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span> <span class="ow">in</span> <span class="n">S</span><span class="o">.</span><span class="n">fetch</span><span class="p">():</span>
    <span class="p">(</span><span class="n">book</span><span class="p">,</span> <span class="n">chapter</span><span class="p">,</span> <span class="n">verse</span><span class="p">)</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">sectionFromNode</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span>
    <span class="n">clause</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">u</span><span class="p">(</span><span class="n">phrase</span><span class="p">,</span> <span class="n">otype</span><span class="o">=</span><span class="s1">&#39;clause&#39;</span><span class="p">)</span>
    <span class="c1"># etc</span>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../colofon/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Colofon" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Colofon
            </div>
          </div>
        </a>
      
      
        
        <a href="../news/" class="md-footer__link md-footer__link--next" aria-label="Next: Updates" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Updates
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c44cc438.min.js"></script>
      
    
  </body>
</html>